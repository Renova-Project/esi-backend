<!-- templates/admin/myapp/schoolgallery_grid_changelist.html -->
{% extends "admin/change_list.html" %}

{% block result_list %}
<style>
.gallery-container {
    display: flex;
    flex-wrap: wrap;
}

.gallery-item {
    margin: 10px;
    flex-basis: calc(33.33% - 20px);  /* 3 items per row */
    text-align: center;
}

.gallery-item img {
    max-width: 100%;
    height: auto;
    border: 1px solid #ddd;
    padding: 10px;
}
</style>

<div class="gallery-container">
    {% for obj in cl.result_list %}
        <div class="gallery-item">
            <a href="{{ obj.get_admin_url }}">
                <img src="{{ obj.link_image.url }}" alt="{{ obj.image_description }}">
            </a>
            <p>{{ obj.image_description }}</p>
        </div>
    {% endfor %}
</div>
{% endblock %}
